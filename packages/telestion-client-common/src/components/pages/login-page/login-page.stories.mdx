import {
	Meta,
	Story,
	Canvas,
	ArgsTable,
	Description
} from '@storybook/addon-docs/blocks';
import { TelestionClient } from '@wuespace/telestion-client-core';
import { MemoryRouter } from 'react-router';
import { useUserConfig } from '../../../hooks';
import { LoginPage } from './login-page';
import { CommonWrapper } from '../../common-wrapper';
import { LoginLogo } from './login-logo';
import { LoginTitle } from './login-title';
import { LoginDescription } from './login-description';
import { LoginForm } from './login-form';

<Meta
	title="Common/Pages/Login Page"
	component={LoginPage}
	decorators={[
		Story => {
			useUserConfig.setState({
				userConfig: {
					alice: {
						dashboards: [{ title: 'Dashboard A' }, { title: 'Dashboard B' }]
					}
				}
			});
			return (
				<TelestionClient>
					<MemoryRouter>{Story()}</MemoryRouter>
				</TelestionClient>
			);
		}
	]}
	argTypes={{}}
/>

# Login Page

<Description of={LoginPage} />

## Importing

```tsx
import { LoginPage } from '@wuespace/telestion-client-common';
```

## Examples

### Empty login page

By itself, the login page doesn't render much except a wrapper and the `children` put into it:

<Canvas>
	<Story
		name="Empty Login Page"
		inline={false}
		height={'512px'}
		args={{ children: ['Hello World'] }}
	>
		{args => (
			<CommonWrapper>
				<LoginPage {...args} />
			</CommonWrapper>
		)}
	</Story>
</Canvas>

## Filled login page

Let's fill this page:

<Canvas>
	<Story
		name="Common Login Page"
		inline={false}
		height={'512px'}
		args={{
			children: [
				<LoginLogo />,
				<LoginTitle />,
				<LoginDescription />,
				<LoginForm />
			]
		}}
	>
		{args => (
			<CommonWrapper>
				<LoginPage {...args} />
			</CommonWrapper>
		)}
	</Story>
</Canvas>

## Properties

<ArgsTable of={LoginPage} />
